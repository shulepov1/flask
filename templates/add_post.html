{% extends 'base.html' %}

{% block content %}

{% for message in get_flashed_messages() %}
<div class="alert alert-success alert-dismissible fade show" role="alert">
    {{message}}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}

<form method="POST" class="my-4">
    {{ form.csrf_token }}
    <div class="form-group">
        {{ form.title.label(class="mb-2") }}
        {{ form.title(class="form-control", placeholder="title") }}
    </div>
    <div class="form-group">
        {{ form.content.label(class="mb-2") }}
        {{ form.content(class="form-control", placeholder="content", rows="5") }}
    </div>
    <br/>
    <div class="form-group">
        {{ form.author.label(class="mb-2") }}
        {{ form.author(class="form-control", placeholder="author") }}
    </div>
    <br/>
    <div class="form-group">
        {{ form.slug.label(class="mb-2") }}
        {{ form.slug(class="form-control", placeholder="slug") }}
    </div>
    <br/>
    <input type="submit" value="Submit" class="btn btn-primary">
</form>
{% for user in users %}
    <div>
        <span>{{user.id}} - </span>
        <span> <a href={{url_for('update_user', id=user.id)}}>{{user.username}}</a> - </span>
        <span>{{user.email}} - </span>
        <span><button><a href={{ url_for('delete_user', id=user.id)}}>Delete</a></button></span>
    </div>
{% endfor %}

{% endblock %}
